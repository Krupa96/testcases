import random

# Replace with your actual mappings
diac_rev_dict = {'Č': 'C', 'Á': 'A', 'Ř': 'R', 'É': 'E'}
diac_rep_dict = {
    'C': ['Č'],
    'A': ['Á', 'À'],
    'R': ['Ř'],
    'E': ['É', 'È']
}

def convert_one_random(token):
    token = token.upper()

    diac_chars = [c for c in token if c in diac_rev_dict]
    ascii_chars = [c for c in token if c in diac_rep_dict]

    if diac_chars:
        to_replace = random.choice(diac_chars)
        return token.replace(to_replace, diac_rev_dict[to_replace], 1)

    elif ascii_chars:
        to_replace = random.choice(ascii_chars)
        diac_variant = random.choice(diac_rep_dict[to_replace])  # ✅ Fix here
        return token.replace(to_replace, diac_variant, 1)

    return token
